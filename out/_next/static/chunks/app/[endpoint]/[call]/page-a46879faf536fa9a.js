(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{69:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(6528).v)()((e,s)=>({endpoints:[],isEndpointsLoaded:!1,fetchEndpoints:async()=>{e({isEndpointsLoaded:!1});let s=await fetch("".concat("https://stubsit.onrender.com","/master")),{data:t}=await s.json();t&&e({endpoints:t}),e({isEndpointsLoaded:!0})},getFilteredEndpoints:e=>{let t=s().endpoints;return e?t.filter(s=>{let t="".concat("https://stubsit.onrender.com","/api/").concat(s.slug),a=[s.name.toLowerCase()];return s.calls.forEach(e=>a.push("".concat(t,"/").concat(e.slug))),a.some(s=>s.includes(e))}):t}}))},4865:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(8710);function r(e,s){return(0,a.useCallback)(async()=>{let t={};try{let a=await fetch(e,s),r=await a.json();if(r.error)throw r;t.data=r.data}catch(e){t.error=e}return t},[e,s])}},5188:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(470),r=t(8710);function n(e){let{type:s,fontSize:t,minWidth:n}=e,l=(0,r.useMemo)(()=>["bungee method-".concat(s.toLowerCase()),t||"text-[10px]",n||"min-w-[42px]"].join(" "),[s,t,n]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{className:l,children:s})})}},6057:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(470);function r(){return(0,a.jsx)("div",{className:"loader"})}},6624:(e,s,t)=>{Promise.resolve().then(t.bind(t,9017))},7131:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(470);function r(e){let{children:s}=e;return(0,a.jsx)("div",{className:"h-full flex flex-col align-center justify-center",children:(0,a.jsx)("div",{className:"flex justify-center",children:s})})}},9017:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var a=t(470),r=t(4865),n=t(1647),l=t(140),i=t(2037),c=t(5966),o=t(5274),d=t(4801),m=t(1288),u=t(8710),x=t(7131),p=t(6057),h=t(5188),j=t(6364),f=t(69),v=t(7618),g=t(5446),N=t(213);function y(e){let s=(0,m.useRouter)(),[t,o]=(0,u.useState)(!1),[d,x]=(0,u.useState)(!1),[p,y]=(0,u.useState)("success"),[w,b]=(0,u.useState)(!1),[C,S]=(0,u.useState)(200),[A,k]=(0,u.useState)(!1),[_,E]=(0,u.useState)(null),[z,D]=(0,u.useState)(null),[L,O]=(0,u.useState)(!0),{fetchEndpoints:R}=(0,f.A)();(0,u.useEffect)(()=>{e.open&&o(!0)},[e.open]);let J=(0,u.useMemo)(()=>!!w||!C||!A&&!L,[L,A,C,w]);(0,u.useEffect)(()=>{S(e.call.response_code),k(e.call.is_error),E(e.call.error_message),e.call.response&&D(JSON.stringify(e.call.response,null,2))},[e.call]);let T=(0,r.A)("".concat("https://stubsit.onrender.com","/master/").concat(e.call.endpoint.slug,"/").concat(e.call.slug),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:e.call.method,response_code:C,is_error:A,error_message:A?_:null,response:!A&&z?JSON.parse(z):null})}),H=s=>{"backdropClick"!==s&&"escapeKeyDown"!==s&&(S(e.call.response_code),k(e.call.is_error),E(e.call.error_message),D(e.call.response?JSON.stringify(e.call.response):null),o(!1),e.onClose())},U=async()=>{b(!0);let{error:t,data:a}=await T();t?y("danger"):(H(),y("success"),R(),a&&s.push("/".concat(e.call.endpoint.slug,"/").concat(e.call.slug)),e.onSave(),A?D(null):E(null)),b(!1),x(!0)},F=()=>{L&&z&&D(JSON.stringify(JSON.parse(z),null,2))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{anchor:"right",open:t,variant:"soft",onClose:(e,s)=>H(s),size:"md",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("p",{className:"text-2xl",children:"Edit Call Details"}),(0,a.jsxs)("div",{className:"mt-9 flex",children:[(0,a.jsx)("p",{className:"text-md text-medium min-w-[100px]",children:"Method"}),(0,a.jsx)(h.A,{type:e.call.method,fontSize:"text-[16px]"})]}),(0,a.jsxs)("div",{className:"mt-3 flex",children:[(0,a.jsx)("p",{className:"text-md text-medium min-w-[100px]",children:"Status"}),(0,a.jsx)(g.A,{color:A?"danger":"success",onChange:()=>k(!A),variant:"soft"}),(0,a.jsx)("div",{className:"".concat(A?"bg-[var(--method-delete)]":"bg-[var(--method-get)]"," text-[var(--background)] text-[10px] rounded-lg w-fit px-2 py-1 ml-3"),children:A?"error":"success"})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,a.jsx)("p",{className:"text-md text-medium min-w-[100px]",children:"Code"}),(0,a.jsx)(N.Ay,{placeholder:"Enter status code.",variant:"outlined",value:C||"",size:"md",onChange:e=>S(+e.target.value)})]}),(()=>{if(A)return(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"text-md text-medium",children:"Message"}),(0,a.jsx)(n.A,{placeholder:"Enter error message.",variant:"outlined",value:_||"",size:"md",minRows:5,className:"mt-2",onChange:e=>e.target.value.length<=250&&E(e.target.value)}),(0,a.jsx)("div",{className:"flex flex-row-reverse mt-2 mr-2",children:(0,a.jsxs)("p",{className:"text-xs",children:[(null==_?void 0:_.length)||0,"/250"]})})]})})(),(()=>{if(!A)return(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pr-4",children:[(0,a.jsx)("p",{className:"text-md text-medium",children:"Response"}),(0,a.jsx)(l.A,{color:"neutral",onClick:F,variant:"solid",size:"sm",className:"secondary",children:"Beautify"})]}),(0,a.jsx)(j.KE,{height:"420px",defaultLanguage:"json",className:"pr-4 mt-4",value:z||"",theme:"vs-dark",onChange:e=>D(e||null),onValidate:e=>O(!e.some(e=>8===e.severity)),options:{scrollBeyondLastLine:!1,minimap:{enabled:!1},scrollbar:{vertical:"auto"}}})]})})(),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(l.A,{color:"neutral",loadingPosition:"end",onClick:U,variant:"solid",disabled:J,className:"w-full primary",children:"Save"})}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(l.A,{color:"neutral",loadingPosition:"end",onClick:()=>H(),variant:"solid",disabled:w,className:"w-full secondary",children:"Cancel"})})]})}),(0,a.jsx)(i.A,{variant:"soft",color:p,open:d,onClose:(e,s)=>{"clickaway"!==s&&"escapeKeyDown"!==s&&x(!1)},anchorOrigin:{vertical:"bottom",horizontal:"right"},startDecorator:"success"===p?(0,a.jsx)(c.jSb,{color:"green",size:24}):(0,a.jsx)(c._Jm,{color:"red",size:24}),autoHideDuration:1500,endDecorator:(0,a.jsx)(l.A,{onClick:()=>x(!1),size:"sm",variant:"soft",color:p,children:"Dismiss"}),children:"success"===p?"Call has been edited.":"Failed to edit Call."})]})}function w(){let{endpoint:e,call:s}=(0,m.useParams)(),[t,f]=(0,u.useState)(!1),[v,g]=(0,u.useState)("URL"),[N,w]=(0,u.useState)(),[b,C]=(0,u.useState)(!1),[S,A]=(0,u.useState)(!1),k=(0,r.A)("".concat("https://stubsit.onrender.com","/master/").concat(e,"/").concat(s)),_=(0,u.useCallback)(async()=>{w(void 0);let{data:e}=await k();e||C(!0),w(e)},[k]);if((0,u.useEffect)(()=>{_()},[_]),b)return(0,m.notFound)();if(!N)return(0,a.jsx)(x.A,{children:(0,a.jsx)(p.A,{})});let E=()=>{navigator.clipboard.writeText(N.response?JSON.stringify(N.response,null,2):""),g("Response"),f(!0)},z=()=>{navigator.clipboard.writeText(N.error_message||""),g("Error message"),f(!0)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(h.A,{type:N.method,fontSize:"text-[32px]"}),(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(l.A,{className:"!mr-2 secondary",startDecorator:(0,a.jsx)(c.Yvo,{}),onClick:()=>A(!0),children:"Edit"})})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start justify-between mt-5",children:[(0,a.jsxs)("p",{className:"text-[18px] w-fit",children:["https://stubsit.onrender.com","/api/",N.endpoint.slug,"/",N.slug]}),(0,a.jsxs)("div",{className:"flex mt-3",children:[(0,a.jsx)(l.A,{className:"!mr-2 primary",size:"sm",startDecorator:(0,a.jsx)(d.NLY,{}),onClick:()=>{let e="".concat("https://stubsit.onrender.com","/api/").concat(N.endpoint.slug,"/").concat(N.slug),s=["curl","-X ".concat(N.method)];"GET"!==N.method&&(s.push('-H "Content-Type: application/json"'),s.push("-d '{}'")),s.push('"'.concat(e,'"')),navigator.clipboard.writeText(s.join(" ")),g("cURL"),f(!0)},children:"Copy as cURL"}),(0,a.jsx)(l.A,{className:"primary",size:"sm",startDecorator:(0,a.jsx)(o.paH,{}),onClick:()=>{navigator.clipboard.writeText("".concat("https://stubsit.onrender.com","/api/").concat(N.endpoint.slug,"/").concat(N.slug)),g("URL"),f(!0)},children:"Copy as URL"})]})]}),(0,a.jsxs)("div",{className:"flex items-center mt-10",children:[(0,a.jsx)("p",{className:"text-[16px] w-fit min-w-[148px]",children:"Status Code"}),(0,a.jsx)("p",{className:"font-bold text-[14px]",children:N.response_code})]}),(0,a.jsxs)("div",{className:"flex items-center mt-3",children:[(0,a.jsx)("p",{className:"text-[16px] w-fit min-w-[148px]",children:"Status"}),(0,a.jsx)("div",{className:"mt-1 badge ".concat(N.is_error?"bg-[var(--method-delete)]":"bg-[var(--method-get)]"," text-[var(--background)] text-[14px] rounded-lg w-fit px-2 py-1"),children:N.is_error?"error":"success"})]}),(()=>{if(N.is_error)return(0,a.jsxs)("div",{className:"flex mt-3",children:[(0,a.jsx)("p",{className:"text-[16px] w-fit min-w-[148px]",children:"Message"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.A,{variant:"outlined",value:N.error_message||"",size:"sm",className:"w-[400px]",minRows:5,disabled:!0}),(0,a.jsx)(l.A,{className:"primary !mt-4",size:"sm",startDecorator:(0,a.jsx)(o.paH,{}),onClick:z,children:"Copy error message"})]})]})})(),(()=>{if(!N.is_error)return(0,a.jsxs)("div",{className:"flex mt-3",children:[(0,a.jsx)("p",{className:"text-[16px] w-fit min-w-[148px]",children:"Response"}),(0,a.jsxs)("div",{className:"w-[90%]",children:[(0,a.jsx)(j.Ay,{height:"420px",defaultLanguage:"json",className:"pr-4",value:N.response?JSON.stringify(N.response,null,2):"",theme:"vs-dark",options:{readOnly:!0,scrollBeyondLastLine:!1,minimap:{enabled:!1},scrollbar:{vertical:"auto"}}}),(0,a.jsx)(l.A,{className:"primary !mt-4",size:"sm",startDecorator:(0,a.jsx)(o.paH,{}),onClick:E,children:"Copy response"})]})]})})(),(0,a.jsxs)(i.A,{variant:"soft",color:"success",open:t,onClose:(e,s)=>{"clickaway"!==s&&"escapeKeyDown"!==s&&f(!1)},anchorOrigin:{vertical:"bottom",horizontal:"right"},startDecorator:(0,a.jsx)(c.jSb,{color:"green",size:24}),autoHideDuration:1500,endDecorator:(0,a.jsx)(l.A,{onClick:()=>f(!1),size:"sm",variant:"soft",color:"success",children:"Dismiss"}),children:[v," has been copied to clipboard."]}),(0,a.jsx)(y,{open:S,onClose:()=>A(!1),call:N,onSave:_})]})}}},e=>{e.O(0,[776,103,485,661,118,279,506,358],()=>e(e.s=6624)),_N_E=e.O()}]);