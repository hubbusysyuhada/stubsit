(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{69:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(6528).v)()((e,s)=>({endpoints:[],isEndpointsLoaded:!1,fetchEndpoints:async()=>{e({isEndpointsLoaded:!1});let s=await fetch("".concat("https://stubsit.onrender.com","/master")),{data:t}=await s.json();t&&e({endpoints:t}),e({isEndpointsLoaded:!0})},getFilteredEndpoints:e=>{let t=s().endpoints;return e?t.filter(s=>{let t="".concat("https://stubsit.onrender.com","/api/").concat(s.slug),a=[s.name.toLowerCase()];return s.calls.forEach(e=>a.push("".concat(t,"/").concat(e.slug))),a.some(s=>s.includes(e))}):t}}))},1789:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var a=t(470),n=t(4865),i=t(5743),o=t(8753),c=t(969),r=t(140),l=t(5758),d=t(2730),m=t(3590),u=t(7158),h=t(2037),x=t(5966),p=t(5274),j=t(4801),v=t(1288),f=t(8710),g=t(69),N=t(7131),b=t(6057),y=t(5188),A=t(7618),w=t(213),C=t(1647);function E(e){let s=(0,v.useRouter)(),[t,i]=(0,f.useState)(!1),[o,c]=(0,f.useState)(!1),[l,d]=(0,f.useState)("success"),[m,u]=(0,f.useState)(!1),[p,j]=(0,f.useState)(!1),[N,b]=(0,f.useState)(""),[y,E]=(0,f.useState)(""),{fetchEndpoints:k}=(0,g.A)();(0,f.useEffect)(()=>{e.open&&i(!0)},[e.open]),(0,f.useEffect)(()=>{E(e.endpoint.name),b(e.endpoint.description)},[e.endpoint]);let S=(0,n.A)("".concat("https://stubsit.onrender.com","/master/").concat(e.endpoint.slug),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:y,description:N})}),D=s=>{"backdropClick"!==s&&"escapeKeyDown"!==s&&(E(e.endpoint.name),b(e.endpoint.description),i(!1),u(!1),e.onClose())},z=async()=>{u(!1),j(!0);let{error:t,data:a}=await S();t?(d("danger"),400===t.statusCode&&u(!0)):(D(),d("success"),k(),a&&s.push("/".concat(e.endpoint.slug)),e.onSave()),j(!1),c(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.A,{anchor:"right",open:t,variant:"soft",onClose:(e,s)=>D(s),children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("p",{className:"text-2xl",children:"Edit Endpoint Details"}),(0,a.jsxs)("div",{className:"mt-9",children:[(0,a.jsx)("p",{className:"text-md text-medium",children:"Name"}),(0,a.jsx)(w.Ay,{placeholder:"Enter Endpoint name",variant:"outlined",value:y,color:m?"danger":"neutral",size:"md",className:"mt-2",onChange:e=>e.target.value.length<=25&&E(e.target.value),fullWidth:!0}),(0,a.jsxs)("div",{className:"flex justify-between mt-2 mx-2",children:[(0,a.jsx)("p",{className:"text-xs error ".concat(m?"":"invisible"),children:"This name is taken."}),(0,a.jsxs)("p",{className:"text-xs",children:[y.length,"/25"]})]})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{className:"text-md text-medium",children:"Description"}),(0,a.jsx)(C.A,{placeholder:"Enter Endpoint description",variant:"outlined",value:N,size:"md",minRows:5,className:"mt-2",onChange:e=>e.target.value.length<=250&&b(e.target.value)}),(0,a.jsx)("div",{className:"flex flex-row-reverse mt-2 mr-2",children:(0,a.jsxs)("p",{className:"text-xs",children:[N.length,"/250"]})})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(r.A,{color:"neutral",loadingPosition:"end",onClick:z,variant:"solid",disabled:!y||p,className:"w-full primary",children:"Save"})}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(r.A,{color:"neutral",loadingPosition:"end",onClick:()=>D(),variant:"solid",disabled:p,className:"w-full secondary",children:"Cancel"})})]})}),(0,a.jsx)(h.A,{variant:"soft",color:l,open:o,onClose:(e,s)=>{"clickaway"!==s&&"escapeKeyDown"!==s&&c(!1)},anchorOrigin:{vertical:"bottom",horizontal:"right"},startDecorator:"success"===l?(0,a.jsx)(x.jSb,{color:"green",size:24}):(0,a.jsx)(x._Jm,{color:"red",size:24}),autoHideDuration:1500,endDecorator:(0,a.jsx)(r.A,{onClick:()=>c(!1),size:"sm",variant:"soft",color:l,children:"Dismiss"}),children:"success"===l?"Endpoint has been edited.":"Failed to edit Endpoint."})]})}function k(){let e=(0,v.useRouter)(),{endpoint:s}=(0,v.useParams)(),{fetchEndpoints:t}=(0,g.A)(),[A,w]=(0,f.useState)(!1),[C,k]=(0,f.useState)(!1),[S,D]=(0,f.useState)("URL"),[z,L]=(0,f.useState)(!1),[_,T]=(0,f.useState)(!1),[P,R]=(0,f.useState)(),[F,O]=(0,f.useState)(!1),[U,H]=(0,f.useState)(!1),K=(0,n.A)("".concat("https://stubsit.onrender.com","/master/").concat(s)),J=(0,n.A)("".concat("https://stubsit.onrender.com","/master/").concat(s),{method:"DELETE"}),W=(0,f.useCallback)(async()=>{R(void 0);let{data:e}=await K();e||O(!0),R(e)},[K]);(0,f.useEffect)(()=>{W()},[W]);let Y=async()=>{L(!0),await J(),e.push("/"),w(!0),await t()};if(F)return(0,v.notFound)();if(!P)return(0,a.jsx)(N.A,{children:(0,a.jsx)(b.A,{})});let G=(e,s)=>{"clickaway"!==e&&"escapeKeyDown"!==e&&s(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"page-content",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-[32px] font-bold",children:P.name}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(r.A,{color:"neutral",size:"sm",onClick:()=>H(!0),startDecorator:(0,a.jsx)(x.Yvo,{}),variant:"solid",className:"w-[84px] h-[40px] secondary !mr-4",children:"Edit"}),(0,a.jsx)(r.A,{color:"neutral",size:"sm",onClick:()=>T(!0),startDecorator:(0,a.jsx)(x.pS_,{}),variant:"solid",className:"w-[84px] h-[40px] secondary",children:"Delete"})]})]}),(0,a.jsx)("p",{className:"mt-4",children:P.description}),(0,a.jsx)("div",{className:"call-container mt-5",children:P.calls.map((s,t)=>(0,a.jsxs)(i.A,{variant:"plain",className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(y.A,{type:s.method,fontSize:"text-[16px]",minWidth:"min-w-[80px]"}),(0,a.jsxs)("p",{className:"m-0 truncate flex-1",children:["https://stubsit.onrender.com","/api/",P.slug,"/",s.slug]})]}),(0,a.jsxs)("div",{className:"flex-shrink-0",children:[(0,a.jsx)(o.Ay,{variant:"soft",size:"sm",className:"secondary !mr-2",onClick:()=>((e,s)=>{let t="".concat("https://stubsit.onrender.com","/api/").concat(P.slug,"/").concat(e),a=["curl","-X ".concat(s)];"GET"!==s&&(a.push('-H "Content-Type: application/json"'),a.push("-d '{}'")),a.push('"'.concat(t,'"')),navigator.clipboard.writeText(a.join(" ")),D("cURL"),k(!0)})(s.slug,s.method),children:(0,a.jsx)(c.A,{title:"Copy as cURL",placement:"bottom",variant:"solid",children:(0,a.jsx)(j.NLY,{size:"14"})})}),(0,a.jsx)(o.Ay,{variant:"soft",size:"sm",className:"secondary",onClick:()=>{var e;return e=s.slug,void(navigator.clipboard.writeText("".concat("https://stubsit.onrender.com","/api/").concat(P.slug,"/").concat(e)),D("URL"),k(!0))},children:(0,a.jsx)(c.A,{title:"Copy as URL",placement:"bottom",variant:"solid",children:(0,a.jsx)(p.paH,{size:"14"})})})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mt-1 badge ".concat(s.is_error?"bg-[var(--method-delete)]":"bg-[var(--method-get)]"," text-[var(--background)] text-[12px] rounded-lg w-fit px-2 py-1"),children:s.is_error?"error":"success"}),(0,a.jsx)("p",{className:"ml-3 font-bold",children:s.response_code})]}),(0,a.jsx)(r.A,{color:"neutral",onClick:()=>{var t;return t=s.slug,void e.push("/".concat(P.slug,"/").concat(t))},variant:"solid",className:"mt-2 secondary w-[80px]",children:"View"})]},t))})]}),(0,a.jsx)(l.Ay,{open:_,onClose:()=>{z||T(!1)},children:(0,a.jsxs)(d.A,{variant:"outlined",className:"!w-[400px] items-center",children:[(0,a.jsx)(m.A,{className:"foobar",children:"Confirm Delete Endpoint"}),(0,a.jsx)(u.A,{children:(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{className:"m-0 text-center text-sm",children:"Are you sure you want to delete this API? This action cannot be undone, and all associated data will be permanently removed."}),(0,a.jsx)(r.A,{color:"neutral",loadingPosition:"end",onClick:Y,disabled:z,variant:"solid",className:"w-full primary !mt-4",children:"Delete"}),(0,a.jsx)(r.A,{color:"neutral",loadingPosition:"end",onClick:()=>T(!1),disabled:z,variant:"solid",className:"w-full secondary !mt-4",children:"Cancel"})]})})]})}),(0,a.jsx)(h.A,{variant:"soft",color:"success",open:A,onClose:(e,s)=>G(s,w),anchorOrigin:{vertical:"bottom",horizontal:"right"},startDecorator:(0,a.jsx)(x.jSb,{color:"green",size:24}),autoHideDuration:1500,endDecorator:(0,a.jsx)(r.A,{onClick:()=>w(!1),size:"sm",variant:"soft",color:"success",children:"Dismiss"}),children:"Endpoint has been deleted."}),(0,a.jsxs)(h.A,{variant:"soft",color:"success",open:C,onClose:(e,s)=>G(s,k),anchorOrigin:{vertical:"bottom",horizontal:"right"},startDecorator:(0,a.jsx)(x.jSb,{color:"green",size:24}),autoHideDuration:1500,endDecorator:(0,a.jsx)(r.A,{onClick:()=>k(!1),size:"sm",variant:"soft",color:"success",children:"Dismiss"}),children:[S," has been copied to clipboard."]}),(0,a.jsx)(E,{open:U,onClose:()=>H(!1),endpoint:P,onSave:W})]})}},4865:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(8710);function n(e,s){return(0,a.useCallback)(async()=>{let t={};try{let a=await fetch(e,s),n=await a.json();if(n.error)throw n;t.data=n.data}catch(e){t.error=e}return t},[e,s])}},5188:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a=t(470),n=t(9875),i=t.n(n),o=t(8710);function c(e){let{type:s,fontSize:t,minWidth:n}=e,c=(0,o.useMemo)(()=>[i().className,"method-".concat(s.toLowerCase()),t||"text-[10px]",n||"min-w-[42px]"].join(" "),[s,t,n]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{className:c,children:s})})}},6057:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(470);function n(){return(0,a.jsx)("div",{className:"loader"})}},7131:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(470);function n(e){let{children:s}=e;return(0,a.jsx)("div",{className:"h-full flex flex-col align-center justify-center",children:(0,a.jsx)("div",{className:"flex justify-center",children:s})})}},7937:(e,s,t)=>{Promise.resolve().then(t.bind(t,1789))}},e=>{e.O(0,[725,776,103,485,627,232,279,506,358],()=>e(e.s=7937)),_N_E=e.O()}]);