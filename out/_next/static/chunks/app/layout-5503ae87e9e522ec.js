(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{69:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(6528).v)()((e,s)=>({endpoints:[],isEndpointsLoaded:!1,fetchEndpoints:async()=>{e({isEndpointsLoaded:!1});let s=await fetch("".concat("https://stubsit.onrender.com","/master")),{data:t}=await s.json();t&&e({endpoints:t}),e({isEndpointsLoaded:!0})},getFilteredEndpoints:e=>{let t=s().endpoints;return e?t.filter(s=>{let t="".concat("https://stubsit.onrender.com","/api/").concat(s.slug),a=[s.name.toLowerCase()];return s.calls.forEach(e=>a.push("".concat(t,"/").concat(e.slug))),a.some(s=>s.includes(e))}):t}}))},325:(e,s,t)=>{Promise.resolve().then(t.bind(t,3764)),Promise.resolve().then(t.t.bind(t,1947,23)),Promise.resolve().then(t.t.bind(t,9930,23))},1947:()=>{},3764:(e,s,t)=>{"use strict";t.d(s,{default:()=>k});var a=t(470),n=t(1891),l=t(8710),r=t(6419);function c(){return(0,a.jsx)(r.default,{src:"/stubsit-white.png",alt:"logo",layout:"fill",objectFit:"contain"})}var i=t(3729),o=t(438),d=t(9884),u=t(4545),m=t(213),h=t(140),x=t(1288),p=t(5188),j=t(5796);function v(e){let s=(0,x.useRouter)(),{endpoint:t,call:n}=(0,x.useParams)(),r=(0,l.useMemo)(()=>!n&&t===e.slug,[t,n,e.slug]),c=(0,l.useMemo)(()=>{var s;return n&&t===e.slug?null==(s=e.calls.find(e=>e.slug===n))?void 0:s.slug:null},[t,n,e.slug,e.calls]);return(0,a.jsxs)("div",{className:"nav-dropdown",children:[(0,a.jsx)("div",{className:"head",children:(0,a.jsxs)("div",{className:"flex items-center mt-3 cursor-pointer px-3 py-2 rounded-lg nav ".concat(r?"active":""),onClick:()=>s.push("/".concat(e.slug)),children:[(0,a.jsx)(j.WwN,{className:"text-sm"}),(0,a.jsx)("p",{className:"ml-2 text-sm truncate",children:e.name})]})}),(0,a.jsx)("div",{className:"content ".concat(r||c?"open":""),children:t!==e.slug?(0,a.jsx)(a.Fragment,{}):e.calls.map((t,n)=>{let l;return(0,a.jsxs)("div",{className:"flex ml-9 mt-2 cursor-pointer px-3 py-2 rounded-lg nav ".concat(c===t.slug?"active":""),onClick:()=>s.push("/".concat(e.slug,"/").concat(t.slug)),children:[(0,a.jsx)(p.A,{type:t.method}),(0,a.jsx)("p",{className:"ml-3 text-xs truncate",children:(l=t.slug,"".concat(window.location.host,"/api/").concat(e.slug,"/").concat(l))})]},"".concat(e.slug,"-").concat(n))})})]})}var f=t(69),g=t(4865),N=t(7618),w=t(1647),y=t(2037),b=t(5966);function C(e){let s=(0,x.useRouter)(),[t,n]=(0,l.useState)(!1),[r,c]=(0,l.useState)(!1),[i,o]=(0,l.useState)("success"),[d,u]=(0,l.useState)(!1),[p,j]=(0,l.useState)(!1),[v,C]=(0,l.useState)(""),[E,k]=(0,l.useState)(""),{fetchEndpoints:A}=(0,f.A)();(0,l.useEffect)(()=>{e.open&&n(!0)},[e.open]);let S=(0,g.A)("".concat("https://stubsit.onrender.com","/master"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E,description:v})}),D=s=>{"backdropClick"!==s&&"escapeKeyDown"!==s&&(k(""),C(""),n(!1),u(!1),e.onClose())},F=async()=>{u(!1),j(!0);let{error:e,data:t}=await S();e?(o("danger"),400===e.statusCode&&u(!0)):(D(),o("success"),A(),t&&s.push("/".concat(t))),j(!1),c(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.A,{anchor:"right",open:t,variant:"soft",onClose:(e,s)=>D(s),children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("p",{className:"text-2xl",children:"Create New Endpoint"}),(0,a.jsxs)("div",{className:"mt-9",children:[(0,a.jsx)("p",{className:"text-md text-medium",children:"Name"}),(0,a.jsx)(m.Ay,{placeholder:"Enter Endpoint name",variant:"outlined",value:E,color:d?"danger":"neutral",size:"md",className:"mt-2",onChange:e=>e.target.value.length<=25&&k(e.target.value),fullWidth:!0}),(0,a.jsxs)("div",{className:"flex justify-between mt-2 mx-2",children:[(0,a.jsx)("p",{className:"text-xs error ".concat(d?"":"invisible"),children:"This name is taken."}),(0,a.jsxs)("p",{className:"text-xs",children:[E.length,"/25"]})]})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{className:"text-md text-medium",children:"Description"}),(0,a.jsx)(w.A,{placeholder:"Enter Endpoint description",variant:"outlined",value:v,size:"md",minRows:5,className:"mt-2",onChange:e=>e.target.value.length<=250&&C(e.target.value)}),(0,a.jsx)("div",{className:"flex flex-row-reverse mt-2 mr-2",children:(0,a.jsxs)("p",{className:"text-xs",children:[v.length,"/250"]})})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(h.A,{color:"neutral",loadingPosition:"end",onClick:F,variant:"solid",disabled:!E||p,className:"w-full primary",children:"Save"})}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(h.A,{color:"neutral",loadingPosition:"end",onClick:()=>D(),variant:"solid",disabled:p,className:"w-full secondary",children:"Cancel"})})]})}),(0,a.jsx)(y.A,{variant:"soft",color:i,open:r,onClose:(e,s)=>{"clickaway"!==s&&"escapeKeyDown"!==s&&c(!1)},anchorOrigin:{vertical:"bottom",horizontal:"right"},startDecorator:"success"===i?(0,a.jsx)(b.jSb,{color:"green",size:24}):(0,a.jsx)(b._Jm,{color:"red",size:24}),autoHideDuration:1500,endDecorator:(0,a.jsx)(h.A,{onClick:()=>c(!1),size:"sm",variant:"soft",color:i,children:"Dismiss"}),children:"success"===i?"Endpoint has been created.":"Failed to create Endpoint."})]})}function E(){let e=(0,x.useRouter)(),{endpoints:s,isEndpointsLoaded:t,fetchEndpoints:n,getFilteredEndpoints:r}=(0,f.A)(),[p,j]=(0,l.useState)([]),[g,N]=(0,l.useState)(!1),[w,y]=(0,l.useState)(""),b=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,[t,a]=(0,l.useState)(e);return(0,l.useEffect)(()=>{let t=setTimeout(()=>a(e),s);return()=>clearTimeout(t)},[e,s]),t}(w,500);return(0,l.useEffect)(()=>{n()},[n]),(0,l.useEffect)(()=>{j(s)},[s]),(0,l.useEffect)(()=>{j(r(b))},[b,r]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{id:"sidebar",className:"flex flex-col justify-between pb-9 relative !w-[360px] !min-w-[360px] px-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"relative w-[150px] h-[80px] icon hover:cursor-pointer",onClick:()=>e.push("/"),children:(0,a.jsx)(c,{})}),(0,a.jsx)("div",{className:"searchbar",children:(0,a.jsx)(m.Ay,{placeholder:"Search Endpoints",variant:"soft",startDecorator:(0,a.jsx)(i.Xj1,{}),endDecorator:w?(0,a.jsx)(d.XoR,{onClick:()=>y(""),className:"hover:cursor-pointer"}):null,className:"my-4",value:w,onChange:e=>y(e.target.value)})}),(0,a.jsx)("div",{className:"menu max-h-[calc(100vh-280px)] overflow-y-auto",children:p.length||t?null==p?void 0:p.map((e,s)=>(0,l.createElement)(v,{...e,key:"menu-"+s})):Array.from({length:5}).map((e,s)=>(0,a.jsx)("div",{className:"w-full mt-4 h-[36px] rounded-lg relative",children:(0,a.jsx)(u.A,{loading:!0,animation:"wave"})},s))})]}),(0,a.jsxs)("div",{className:"footer",children:[(0,a.jsx)(h.A,{color:"neutral",onClick:()=>N(!0),variant:"solid",className:"w-full primary",startDecorator:(0,a.jsx)(o.YHj,{}),children:"New Endpoint"}),(0,a.jsx)("div",{className:"flex justify-center mt-3",children:(0,a.jsx)("p",{className:"text-xs",children:"\xa9 2025 Hubbusysyuhada"})})]})]}),(0,a.jsx)(C,{open:g,onClose:()=>N(!1)})]})}function k(e){let{children:s}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(n.Zr,{defaultMode:"system",disableTransitionOnChange:!0,children:[(0,a.jsx)(E,{}),(0,a.jsx)("div",{className:"py-7 px-5 w-full overflow-y-auto max-h-screen",children:s})]})})}},4865:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(8710);function n(e,s){return(0,a.useCallback)(async()=>{let t={};try{let a=await fetch(e,s),n=await a.json();if(n.error)throw n;t.data=n.data}catch(e){t.error=e}return t},[e,s])}},5188:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(470),n=t(8710);function l(e){let{type:s,fontSize:t,minWidth:l}=e,r=(0,n.useMemo)(()=>["bungee method-".concat(s.toLowerCase()),t||"text-[10px]",l||"min-w-[42px]"].join(" "),[s,t,l]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{className:r,children:s})})}},9930:()=>{}},e=>{e.O(0,[190,776,968,153,380,108,661,769,279,506,358],()=>e(e.s=325)),_N_E=e.O()}]);